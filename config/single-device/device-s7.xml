<?xml version="1.0"?>
<ot-sim>
  <message-bus>
    <pull-endpoint>tcp://127.0.0.1:1234</pull-endpoint>
    <pub-endpoint>tcp://127.0.0.1:5678</pub-endpoint>
  </message-bus>
  <cpu>
    <module name="backplane">ot-sim-message-bus {{config_file}}</module>
    <module name="modbus">ot-sim-modbus-module {{config_file}}</module>
    <module name="dnp3">ot-sim-s7comm-module {{config_file}}</module>
  </cpu>
  <s7comm name="s7comm-server" mode="server">
    <endpoint>127.0.0.1:20000</endpoint>
    <output type="binary">
      <address>0</address>
      <tag>line-650632.closed</tag>
    </output>
    <input type="analog">
      <address>0</address>
      <tag>line-650632.kW</tag>
    </input>
  </s7comm>
  <modbus name="modbus-master" mode="client">
    <endpoint>127.0.0.1:5502</endpoint>
    <period>2s</period>
    <register type="coil">
      <address>0</address>
      <tag>line-650632.closed</tag>
    </register>
    <register type="input">
      <address>30000</address>
      <tag>line-650632.kW</tag>
      <scaling>2</scaling>
    </register>
  </modbus>
</ot-sim>
